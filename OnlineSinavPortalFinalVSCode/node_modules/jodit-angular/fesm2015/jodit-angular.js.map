{"version":3,"file":"jodit-angular.js","sources":["../../../projects/jodit-angular-lib/src/lib/Events.ts","../../../projects/jodit-angular-lib/src/lib/jodit-angular.component.ts","../../../projects/jodit-angular-lib/src/lib/jodit-angular.module.ts","../../../projects/jodit-angular-lib/src/public-api.ts","../../../projects/jodit-angular-lib/src/jodit-angular.ts"],"names":[],"mappings":"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","sourcesContent":["import { Output, EventEmitter, Directive } from '@angular/core';\r\n\r\nexport interface EventObj {\r\n  args: any[];\r\n  editor: any;\r\n}\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class Events {\r\n  // tslint:disable:no-output-on-prefix\r\n  @Output() onChange: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onBeforeEnter: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onKeydown: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onMousedown: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onClick: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onFocus: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onBlur: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onPaste: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onResize: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onBeforeCommand: EventEmitter<EventObj> = new EventEmitter(false);\r\n  @Output() onAfterCommand: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onAfterExec: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onAfterPaste: EventEmitter<EventObj> = new EventEmitter();\r\n  @Output() onChangeSelection: EventEmitter<EventObj> = new EventEmitter();\r\n}\r\n\r\n\r\nexport const validEvents: (keyof Events)[] = [\r\n  'onChange',\r\n  'onBeforeEnter',\r\n  'onKeydown',\r\n  'onMousedown',\r\n  'onClick',\r\n  'onFocus',\r\n  'onBlur',\r\n  'onPaste',\r\n  'onResize',\r\n  'onBeforeCommand',\r\n  'onAfterCommand',\r\n  'onAfterExec',\r\n  'onAfterPaste',\r\n  'onChangeSelection',\r\n];\r\n","import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Input,\n    NgZone,\n    OnDestroy,\n    Provider,\n    ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {Events, validEvents} from './Events';\n\n\ndeclare const require: any;\nconst EditorModule: any = require('jodit');\n\n\nconst CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR: Provider = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => JoditAngularComponent),\n    multi: true\n};\n\n@Component({\n    selector: 'jodit-editor',\n    template: `\n        <ng-template></ng-template>`,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['../../../../node_modules/jodit/build/jodit.min.css'],\n    providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class JoditAngularComponent extends Events implements AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    @Input()\n    set config(v: object | undefined) {\n        this._config = v;\n        if (this.element) {\n            this.resetEditor();\n        }\n    }\n\n    get config() {\n        return this._config;\n    }\n\n    private _config = {};\n\n    @Input() tagName = 'textarea';\n    @Input() id: string | undefined;\n    @Input() defaultValue: string | undefined;\n\n    element: HTMLElement;\n    editor: any;\n\n    private onChangeCallback: (_: any) => {};\n    private onTouchedCallback: () => {};\n\n    constructor(private elementRef: ElementRef, private ngZone: NgZone) {\n        super();\n        this.elementRef = elementRef;\n        this.ngZone = ngZone;\n    }\n\n    createElement() {\n        const tagName = typeof this.tagName === 'string' ? this.tagName : 'textarea';\n        this.element = document.createElement(tagName);\n        if (this.element) {\n            this.element.id = this.id;\n            this.elementRef.nativeElement.appendChild(this.element);\n        }\n    }\n\n\n    get value(): string {\n        if (this.editor) {\n            return this.editor.getEditorValue();\n        } else {\n            return '';\n        }\n    }\n\n    set value(v: string) {\n        if (this.editor) {\n            this.editor.setEditorValue(v || '');\n        } else {\n            this.defaultValue = v;\n        }\n    }\n\n    resetEditor() {\n        this.editor.destruct();\n        this.createEditor();\n    }\n\n    ngAfterViewInit() {\n        if (!this.element) {\n            this.createElement();\n            this.createEditor();\n        }\n    }\n\n    createEditor() {\n        // Create instance outside Angular scope\n        this.ngZone.runOutsideAngular(() => {\n            this.editor = new EditorModule.Jodit(this.element, this.config);\n        });\n\n        if (this.defaultValue) {\n            this.editor.value = this.defaultValue;\n        }\n\n        this.editor.events\n            .on('change', (value: string) => {\n                if (typeof this.onChangeCallback === 'function') {\n                    this.ngZone.run(() => this.onChangeCallback(value));\n                }\n            })\n            .on('blur', () => {\n                if (typeof this.onTouchedCallback === 'function') {\n                    this.ngZone.run(() => this.onTouchedCallback());\n                }\n            });\n\n\n        validEvents.forEach((eventName) => {\n            const eventEmitter: EventEmitter<any> = this[eventName];\n            if (eventEmitter.observers.length > 0) {\n                let eventNameInJodit = eventName.substring(2);\n                eventNameInJodit = eventNameInJodit.substr(0, 1).toLowerCase() + eventNameInJodit.substring(1);\n                // tslint:disable-next-line:max-line-length\n                this.editor.events.on(eventNameInJodit, this.ngZone.run(() => (...args: any[]) => eventEmitter.emit({\n                    args,\n                    editor: this.editor\n                })));\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.editor) {\n            this.editor.destruct();\n        }\n    }\n\n    writeValue(v: any): void {\n        this.value = v;\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: () => {}): void {\n        this.onTouchedCallback = fn;\n    }\n\n    setDisabledState(isDisabled: boolean): void {\n        this.editor.setReadOnly(isDisabled);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { JoditAngularComponent } from './jodit-angular.component';\n\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [JoditAngularComponent],\n  exports: [\n      JoditAngularComponent\n  ]\n})\n\nexport class JoditAngularModule { }\n","/*\n * Public API Surface of jodit-angular-lib\n */\n\nexport * from './lib/jodit-angular.component';\nexport * from './lib/jodit-angular.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {Events as ɵa} from './lib/Events';"]}